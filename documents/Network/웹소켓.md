# 웹소켓(WebSocket)

`TIL-000009`

![](https://upload.wikimedia.org/wikipedia/commons/1/10/Websocket_connection.png)

- `웹소켓`(_WebSocket_)은 하나의 TCP 접속에 [전이중 통신](https://github.com/lbo728/TIL/blob/main/documents/Network/%EC%A0%84%EC%9D%B4%EC%A4%91%ED%86%B5%EC%8B%A0.md) 채널을 제공하는 컴퓨터 통신 프로토콜
- 웹소켓 프로토콜은 2011년 IETF에 의해 `RFC 6455`로 표준화되었으며, 웹 IDL의 웹소켓 API는 W3C에 의해 표준화되고 있음

- 웹소켓은 HTTP와 구별됨
  - 두 프로토콜 모두 OSI 모델의 **제7계층에 위치**해 있으며, **제4계층 TCP에 의존**함
  - 이들에 차이가 있으나, `RFC 6455`에 따르면 웹소켓은 **HTTP 포트 80과 443** 위에 동작하도록 설계되었으며, HTTP 프록시 및 중간 층을 지원하도록 설계되었으므로 HTTP 프로토콜과 호환이 됨
  - 호환을 달성하기 위해 웹소켓 [핸드셰이크](https://github.com/lbo728/TIL/blob/main/documents/Network/%ED%95%B8%EB%93%9C%EC%84%B8%EC%9D%B4%ED%82%B9.md)는 `HTTP 업그레이드 헤더`를 사용하여 **HTTP 프로토콜에서 웹소켓 프로토콜로 변경**
- 웹소켓 프로토콜은 `HTTP 폴링`과 같은 **반이중방식**에 비해 더 낮은 부하를 사용하여 웹 브라우저(또는 다른 클라이언트 애프리케이션)와 웹 서버 간의 통신을 가능케 하며, **서버와의 실시간 데이터 전송을 용이케 함**
  - 먼저 클라이언트에 의해 요청을 받는 방식이 아닌, **서버가 내용을 클라이언트에 보내는 표준화된 방식을 제공**함으로써, 또 **연결이 유지된 상태에서 메시지들을 오갈 수 있게 허용함**으로써 가능하게 되었음
  - → 이러한 방식으로, 양방향 대화 방식은 클라이언트와 서버 간에 발생할 수 있음
  - 통신은 `TCP 포트 80`(**TLS 암호화 연결의 경우 443**)을 통해 수행되며 방화벽을 통해 웹이 아닌 인터넷 연결을 차단하는 일부 환경에 도움이 됨
  - 단순 양방향 브라우저-서버 통신은 `코멧` 등의 `스톱갭`(stopgap) 기술을 사용하는 비표준 방식으로 수행됨

<br>
<br>

**_참고: [웹소켓 | 위키백과](https://ko.wikipedia.org/wiki/%EC%9B%B9%EC%86%8C%EC%BC%93)_**
